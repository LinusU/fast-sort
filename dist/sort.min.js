!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(r=r||self)["fast-sort"]=n()}(this,function(){"use strict";function t(t){return function(r,n,e){return t(r,n,e)*e}}function d(r){var n=(r||{}).asc||(r||{}).desc;if(!n)throw Error("Invalid sort config");return{order:r.asc?1:-1,sortBy:n,comparer:r.comparer?t(r.comparer):void 0}}var l=function(r,n,e,t,o,u,i){var f,c;if("string"==typeof r)f=u[r],c=i[r];else{if("function"!=typeof r){var a=d(r);return l(a.sortBy,n,e,a.order,a.comparer||o,u,i)}f=r(u),c=r(i)}var s=o(f,c,t);return n.length>e&&(0===s||null==f&&null==c)?l(n[e],n,e+1,t,o,u,i):s},i=function(e,r,t,o){var n;if(!Array.isArray(r))return r;if(Array.isArray(t)&&t.length<2&&(t=t[0]),void 0===t||!0===t)n=function(r,n){return o(r,n,e)};else if("string"==typeof t)n=function(r,n){return o(r[t],n[t],e)};else if("function"==typeof t)n=function(r,n){return o(t(r),t(n),e)};else{if(!Array.isArray(t)){var u=d(t);return i(u.order,r,u.sortBy,u.comparer||o)}n=l.bind(void 0,t[0],t,1,e,o)}return r.sort(n)};function r(r){var e=r.preventDefaultOrderHandling?r.comparer:t(r.comparer);return function(n){return{asc:function(r){return i(1,n,r,e)},desc:function(r){return i(-1,n,r,e)},by:function(r){return i(1,n,r,e)}}}}var n=r({preventDefaultOrderHandling:!0,comparer:function(r,n,e){return r<n?-e:r===n?0:null==r?1:null==n?-1:e}});return n.createNewInstance=r,n});
