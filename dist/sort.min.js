!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((r=r||self)["fast-sort"]={})}(this,function(r){"use strict";function o(){for(var r=0,n=0,t=arguments.length;n<t;n++)r+=arguments[n].length;for(var e=Array(r),o=0,n=0;n<t;n++)for(var i=arguments[n],u=0,c=i.length;u<c;u++,o++)e[o]=i[u];return e}function u(e){return function(r,n,t){return e(r,n,t)*t}}var c=function(r,n){if(r)throw Error("Invalid sort config: "+n)},d=function(r){var n=r||{},t=n.asc,e=n.desc,o=t?1:-1,i=t||e;return c(!i,"Expected `asc` or `desc` property"),c(t&&e,"Ambiguous object with `asc` and `desc` config properties"),{order:o,sortBy:i,comparer:r.comparer&&u(r.comparer)}},f=function(l){return function r(n,t,e,o,i,u,c){var f,a;if("string"==typeof n)f=u[n],a=c[n];else{if("function"!=typeof n){var s=d(n);return r(s.sortBy,t,e,s.order,s.comparer||l,u,c)}f=n(u),a=n(c)}var p=i(f,a,o);return(0===p||null==f&&null==a)&&t.length>e?r(t[e],t,e+1,o,i,u,c):p}};function i(r,n,t,e){return Array.isArray(n)?(Array.isArray(t)&&t.length<2&&(t=t[0]),(a?n:o(n)).sort(function r(t,e,o){if(void 0===t||!0===t)return function(r,n){return e(r,n,o)};if("string"==typeof t)return c(t.includes("."),"String syntax not allowed for nested properties."),function(r,n){return e(r[t],n[t],o)};if("function"==typeof t)return function(r,n){return e(t(r),t(n),o)};if(Array.isArray(t)){var i=f(e);return function(r,n){return i(t[0],t,1,o,e,r,n)}}var n=d(t);return r(n.sortBy,n.comparer||e,n.order)}(t,e,r))):n}function n(t){var e=u(t.comparer);return function(r){var n=Array.isArray(r)&&!t.inPlaceSorting?o(r):r;return{asc:function(r){return i(1,n,r,e)},desc:function(r){return i(-1,n,r,e)},by:function(r){return i(1,n,r,e)}}}}function t(r,n,t){return null==r?t:null==n?-t:r<n?-1:r===n?0:1}var e=n({comparer:t}),a=n({comparer:t,inPlaceSorting:!0});r.createNewSortInstance=n,r.inPlaceSort=a,r.sort=e,Object.defineProperty(r,"__esModule",{value:!0})});
